<!--
    GHS App | v5.0
    Developed By Jacoby Broadnax
    For Gulfport High School
-->
<!DOCTYPE html>

<head>
    <title>GHS App | v5.0</title>
    <!-----------------CSS------------------->
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="vivify.min.css">
    <!-----------------Prevent User Zoom---------------------->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,user-scalable=0" />
    <!--------------------Material Icons------------------------->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!--------------------Jquery / Handlebars CDN---------------->

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.12/handlebars.min.js">
    </script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!--------------------Stories API Endpoint-------------------->

    <script type="text/javascript">
        $(document).ready(function () {
            $.getJSON('https://v2-api.sheety.co/1c0174d5b32dbebdf6f1e14d6ba67a4f/ghsApp/story', function (
                data) {
                var template = Handlebars.compile($('#item-template').html())
                $('#items').html(template(data.story))
            })
        })
    </script>

    <!------------------Story Template------------------------>

    <script id="item-template" type="text/x-handlebars-template">

        <div class="stories-container"id="story">
        {{#each this}}

        <div class="story-wrapper vivify fadeIn delay-{{id}}00" >
            <img class="story-image" loading="lazy" src="images/{{imageUrl}}">
            <img class="story-icon" src="badges/{{badge}}">
            <h4>{{name}}</h4>
            <p>{{description}}</p>
        </div>
    {{/each}}

    <div class="story-wrapper" >
        <img class="story-image" src="Images/Anouncements.jpg">
        <img class="story-icon" src="Assets/Add.svg">
        <h4>Create Post</h4>
        <p>Tap Here To Submit Your Story For Review</p>
    </div>
    </div>
    </script>

    <!-------------------Navigation API Endpoint--------------->


    <script type="text/javascript">
        $(document).ready(function () {
            $.getJSON('https://v2-api.sheety.co/1c0174d5b32dbebdf6f1e14d6ba67a4f/ghsApp/home', function (
                data) {
                var template = Handlebars.compile($('#item-template2').html())
                $('#items2').html(template(data.home))
            })
        })
    </script>

    <!-------------------Navigation Template------------------->

    <script id="item-template2" type="text/x-handlebars-template">

        <div class="content-feed">
        {{#each this}}

        <div class="content-card">
            <img class="content-badge" src="Badges/{{badge}}">
            <div class="right-content">
                <h3>{{by}}</h3>
                <p>{{description}}</p>
                    {{{imageUrl}}}
            </div>
           
        </div>

    {{/each}}

        </div>
    </script>
</head>

<body>
    <!------------------Top-Navigation-------------->
    <div class="top-navigation">

        <div class="logo-container">
            <img src="branding/New GSD Logo Micro 512px.svg">
        </div>
        <div class="right-btn nav-button"><i class="material-icons">search</i></div>
    </div>

    <!---------------------Stories------------------------>

    <div id="items"></div>

    <!---------------------Grouped Button------------------->

    <div class="grouped-buttons">
        <div class="group-wrapper ">
            <button class="group-btn left-group">Senior Home</button>
            <button class="group-btn">Live Game</button>
            <button class="group-btn right-group">Live Archive</button>
        </div>
    </div>

    <!----------------------Content Feed-------------------->

    <div id="items2"></div>

    <!----------------------Popup Iframe-------------------->

    <div class="popup-frame" id="frame">

        <iframe src="" class="inject-frame" id="inject-frame" onload="loaded()">

        </iframe>
    </div>

    <!----------------Bottom-Navigation-------------->
    <div class="bottom-navigation">
        <div class="bottom-nav-wrapper">
            <div class="bottom-nav-button start" onclick="target();document.getElementById('inject-frame').src='none';">
                <input id="nav-btn1" type="radio" name="bottom-nav">
                <label for="nav-btn1"><img src="icons/Menu.svg"></label>
            </div>
            <div class="bottom-nav-button" onclick="target();document.getElementById('inject-frame').src='https://ghsappv5.netlify.com/grades.html';">
                <input id="nav-btn2" type="radio" name="bottom-nav">
                <label for="nav-btn2"><img src="icons/Grades.svg"></label>
            </div>
           
                <div class="bottom-nav-button" onclick="view()">
                    
                    <input id="nav-btn3" type="radio" name="bottom-nav" checked>
                    <label for="nav-btn3"><img src="icons/Home.svg"></label>
                </div>
            
            <div class="bottom-nav-button" onclick="target();document.getElementById('inject-frame').src='https://ghsappv5.netlify.com/calendar.html';">
                <input id="nav-btn4" type="radio" name="bottom-nav">
                <label for="nav-btn4"><img src="icons/Calendar.svg"></label>
            </div>
            <div class="bottom-nav-button" onclick="target();document.getElementById('inject-frame').src='https://workforcedevelopment.netlify.com';">
                <input id="nav-btn5" type="radio" name="bottom-nav">
                <label for="nav-btn5"><img src="icons/work-dev.svg"></label>
            </div>
        </div>
    </div>
    <script>
        function target(){
            document.getElementById("frame").style.display="block";
        } 
        function view(){
            document.getElementById("frame").style.display="none";
        }
      
    </script>

</body>

</html>